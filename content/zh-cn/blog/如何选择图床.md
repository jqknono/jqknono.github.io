---
layout: post
title: 如何选择图床
published: true
categories: 调研
tags: [调研, blog]
date: 2024-05-03 01:53:05 +0800
draft: false
toc: true
comments: false
---

## 什么是图床

图床是指专门用来存储图片的服务器，通过图床可以将图片上传到服务器，然后通过链接的方式引用图片。这样可以减轻网站的服务器压力，提高网站的访问速度。

## 为什么使用图床

用图床和不用图床的本质区别是什么, 是否仅有速度上的区别?

如果租用的服务器宽带足够, 是否可以不使用图床?

其实更大的影响在于 markdown 文件和图片的耦合度存在差异. 即文章内容的组织形式, 博客的架构上存在差异.

不使用图床时, 图片和 markdown 文件是耦合在一起的, 图片的管理和使用基于**相对路径**,
使用图床后, 图片的管理和使用都是在远程服务器上进行, 本地只是引用图片的链接, 是一种绝对路径的使用方法.

绝对路径在大多数时候都是更好的选择, 它可以保证图片的可用性. 如果使用相对路径, 当 markdown 文件和图片任一路径发生变化时, 引用关系即被破坏.

使用相对路径引用图片的博客更难重构, 难以维护, 也更难分享到更多平台. 我们在网上常看见各种图片已失效的文章, 多数属于文章和引用文件间的关联未处理好.

## 图床如何加速网站的访问

通常个人网站租用的服务器宽带有限, 以我常年购买的服务器为例, 固定带宽不超过 5Mbps, 每秒传输速度仅 600KB, 假使在文章中存在两张 3MB 的图片, 那么加载时间就会超过 10 秒.

**我们需要理解, 没有多少人可以等待一个网页加载 10 秒.**

可以使用`lazy-load`方式, 先加载文章, 再加载图片, 这样访问者不必等待一个空白页面, 而是可以直接开始看文章, 图片加载后再看图片.  
这只是应对网速慢的一种权宜之计, 很多人甚至不会在一个简短的网页上停留超过 10 秒, 传输图片占用的网速没有传递有效信息, 因为后加载的图片并没有被看到.

更直接的解决加载慢的办法就是增加宽带, 但是宽带的成本很高, 阿里云 1000Mbps 一天的租用费用超过 6000 元, 一个月的费用超过 18w, 这对于个人网站来说是不可承受的.

当然各平台除了固定带宽以外, 还提供了按流量计费的方式, 国内的云服务商按流量计费的价格在 0.5 元/GB 到 1 元/GB 之间, 10Mbps 或 1Tbps 费用相同, 我们可以选择最大带宽以提供最大的访问速度.

这里要注意的是按流量计费是后付费, 如果网站被攻击, 资源被大量请求下载, 后果也非常严重, 存在破产的可能. 消耗流量的攻击方式过于简单, 以至于很难防范.  
我的家用带宽 1Tb 一个月才 200 不到, 很容易就可以消耗服务器大量流量, 对攻击者来说成本为 0.

我们可以自行配置图片服务, 配置 nginx, 限制特定 ip 的访问频次, 限制多媒体文件的访问场景, 自行剪裁压缩图片, 以减少流量消耗, 这些都需要消耗时间, 这些配置很简单, 但是需要消耗一些时间.  

各个平台的存储服务

## 如何选择图床

图床有**第三方**和**自建**两种方式, 第三方图床根据使用方式有**专用图床**和**通用存储**之分. 简单的专用图床可以直接上传图片, 然后获取图片链接, 比如[sm.ms](https://sm.ms/),
`,`imgur`

等, 复杂的图床则会提供更多的功能.

需要考虑一些维度, 比如*访问体验*, _文章撰写体验_, *应对变化*等, 这些体验将会影响访问者 a

### 访问体验

2.

## 参考

- [推荐工具 picgo](https://github.com/Molunerfinn/PicGo/releases)
- [一些图床集合](https://zhuanlan.zhihu.com/p/58863378)
